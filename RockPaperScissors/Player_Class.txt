package Model;

import View.JOP;

public class Player { //Player Class runs the main sequence that displays the game through a JOP and has acoording playervalues
  private static String playerOneMove = " ";
  
  private static String playerTwoMove = " ";
  
  private static int whoWon = 0;
  
  private static int playerOneRoundScore = 0;
  
  private static int playerTwoRoundScore = 0;
  
  private static int playerOneTotalScore = 0;
  
  private static int playerTwoTotalScore = 0;
  
  private static String choice = " ";
  
  public static void PvP() { //Runs the main PvP sequence, running through all other methods in class to find winner and increment wins in response
    boolean isOn = true;
    JOP.msg("Player 1's Turn");
    while (isOn) {
      playerOneMove = JOP.in("Please type in your move ([Rock], [Paper], or [Scissors])");
      if (playerOneMove.equalsIgnoreCase("Rock") || playerOneMove.equalsIgnoreCase("Paper") || playerOneMove.equalsIgnoreCase("Scissors"))
        isOn = false; 
    } 
    isOn = true;
    JOP.msg("Player 2's Turn");
    while (isOn) {
      playerTwoMove = JOP.in("Please type in your move ([Rock], [Paper], or [Scissors])");
      if (playerTwoMove.equalsIgnoreCase("Rock") || playerTwoMove.equalsIgnoreCase("Paper") || playerTwoMove.equalsIgnoreCase("Scissors"))
        isOn = false; 
    } 
    detectWin();
    roundResult();
  }
  
  public static void detectWin() { //a block of if statements that search through all possible cases to determine a winner (Same as that in CPU)
    if (playerOneMove.equalsIgnoreCase("Rock") && playerTwoMove.equalsIgnoreCase("Paper")) {
      whoWon = 2;
    } else if (playerOneMove.equalsIgnoreCase("Rock") && playerTwoMove.equalsIgnoreCase("Scissors")) {
      whoWon = 1;
    } else if (playerOneMove.equalsIgnoreCase("Rock") && playerTwoMove.equalsIgnoreCase("Rock")) {
      whoWon = 0;
    } else if (playerOneMove.equalsIgnoreCase("Paper") && playerTwoMove.equalsIgnoreCase("Paper")) {
      whoWon = 0;
    } else if (playerOneMove.equalsIgnoreCase("Paper") && playerTwoMove.equalsIgnoreCase("Scissors")) {
      whoWon = 2;
    } else if (playerOneMove.equalsIgnoreCase("Paper") && playerTwoMove.equalsIgnoreCase("Rock")) {
      whoWon = 1;
    } else if (playerOneMove.equalsIgnoreCase("Scissors") && playerTwoMove.equalsIgnoreCase("Paper")) {
      whoWon = 1;
    } else if (playerOneMove.equalsIgnoreCase("Scissors") && playerTwoMove.equalsIgnoreCase("Scissors")) {
      whoWon = 0;
    } else if (playerOneMove.equalsIgnoreCase("Scissors") && playerTwoMove.equalsIgnoreCase("Rock")) {
      whoWon = 2;
    } 
  }
  
  public static void roundResult() { //displays via JOP round winner and increments scores accordingly- then gives options for help,continue, and other commands (Same as that in CPU)
    boolean choiceQuery = true;
    if (whoWon == 0) {
      JOP.msg("Round Result:\nA tie!\n\nPlayer One's Choice: " + 
          
          playerOneMove + 
          "\nPlayer Two's Choice: " + playerTwoMove);
      while (choiceQuery) {
        choice = JOP.in("Today's Scores are:\nPlayer One's Round Score: " + 
            playerOneRoundScore + 
            "\nPlayer One's Total Score: " + playerOneTotalScore + 
            "\n" + 
            "\nPlayer Two's Round Score: " + playerTwoRoundScore + 
            "\nPlayer Two's Total Score: " + playerTwoTotalScore + 
            "\nWould you like to input a command? ([Exit], [Reset], [Help], or [Continue])");
        if (choice.equalsIgnoreCase("Exit")) {
          choiceQuery = false;
          System.exit(0);
          continue;
        } 
        if (choice.equalsIgnoreCase("Reset")) {
          choiceQuery = false;
          playerOneMove = " ";
          playerTwoMove = " ";
          whoWon = 0;
          playerOneRoundScore = 0;
          playerTwoRoundScore = 0;
          playerOneTotalScore = 0;
          playerTwoTotalScore = 0;
          choice = " ";
          Game.Startup();
          continue;
        } 
        if (choice.equalsIgnoreCase("Help")) {
          choiceQuery = false;
          Game.playerHelpDialog();
          PvP();
          continue;
        } 
        if (choice.equalsIgnoreCase("Continue")) {
          choiceQuery = false;
          PvP();
        } 
      } 
    } else if (whoWon == 1) {
      playerOneRoundScore++;
      if (playerOneRoundScore == 3) {
        playerOneTotalScore++;
        playerOneRoundScore = 0;
        playerTwoRoundScore = 0;
        JOP.msg("Player One Has Scored a Win!");
      } 
      if (playerTwoRoundScore == 3) {
        playerTwoTotalScore++;
        playerTwoRoundScore = 0;
        playerOneRoundScore = 0;
        JOP.msg("Player Two Has Scored a Win!");
      } 
      JOP.msg("Round Result:\nPlayer One Wins!\n\nPlayer One's Choice: " + 
          
          playerOneMove + 
          "\nPlayer Two's Choice: " + playerTwoMove);
      while (choiceQuery) {
        choice = JOP.in("Today's Scores are:\nPlayer One's Round Score: " + 
            playerOneRoundScore + 
            "\nPlayer One's Total Score: " + playerOneTotalScore + 
            "\n" + 
            "\nPlayer Two's Round Score: " + playerTwoRoundScore + 
            "\nPlayer Two's Total Score: " + playerTwoTotalScore + 
            "\nWould you like to input a command? ([Exit], [Reset], [Help], or [Continue])");
        if (choice.equalsIgnoreCase("Exit")) {
          choiceQuery = false;
          System.exit(0);
          continue;
        } 
        if (choice.equalsIgnoreCase("Reset")) {
          choiceQuery = false;
          playerOneMove = " ";
          playerTwoMove = " ";
          whoWon = 0;
          playerOneRoundScore = 0;
          playerTwoRoundScore = 0;
          playerOneTotalScore = 0;
          playerTwoTotalScore = 0;
          choice = " ";
          Game.Startup();
          continue;
        } 
        if (choice.equalsIgnoreCase("Help")) {
          choiceQuery = false;
          Game.playerHelpDialog();
          PvP();
          continue;
        } 
        if (choice.equalsIgnoreCase("Continue")) {
          choiceQuery = false;
          PvP();
        } 
      } 
    } else if (whoWon == 2) {
      playerTwoRoundScore++;
      if (playerOneRoundScore == 3) {
        playerOneTotalScore++;
        playerOneRoundScore = 0;
        playerTwoRoundScore = 0;
        JOP.msg("Player One Has Scored a Win!");
      } 
      if (playerTwoRoundScore == 3) {
        playerTwoTotalScore++;
        playerTwoRoundScore = 0;
        playerOneRoundScore = 0;
        JOP.msg("Player Two Has Scored a Win!");
      } 
      JOP.msg("Round Result:\nPlayer Two Wins!\n\nPlayer One's Choice: " + 
          
          playerOneMove + 
          "\nPlayer Two's Choice: " + playerTwoMove);
      while (choiceQuery) {
        choice = JOP.in("Today's Scores are:\nPlayer One's Round Score: " + 
            playerOneRoundScore + 
            "\nPlayer One's Total Score: " + playerOneTotalScore + 
            "\n" + 
            "\nPlayer Two's Round Score: " + playerTwoRoundScore + 
            "\nPlayer Two's Total Score: " + playerTwoTotalScore + 
            "\nWould you like to input a command? ([Exit], [Reset], [Help], or [Continue])");
        if (choice.equalsIgnoreCase("Exit")) {
          choiceQuery = false;
          System.exit(0);
          continue;
        } 
        if (choice.equalsIgnoreCase("Reset")) {
          choiceQuery = false;
          playerOneMove = " ";
          playerTwoMove = " ";
          whoWon = 0;
          playerOneRoundScore = 0;
          playerTwoRoundScore = 0;
          playerOneTotalScore = 0;
          playerTwoTotalScore = 0;
          choice = " ";
          Game.Startup();
          continue;
        } 
        if (choice.equalsIgnoreCase("Help")) {
          choiceQuery = false;
          Game.playerHelpDialog();
          PvP();
          continue;
        } 
        if (choice.equalsIgnoreCase("Continue")) {
          choiceQuery = false;
          PvP();
        } 
      } 
    } 
  }
}